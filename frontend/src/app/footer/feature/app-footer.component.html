<div class="overflow-visible">
  <nav class="border-t-2 border-dl-grey-8 bg-white shadow">
    <!-- Mobile menu, show/hide based on menu state. -->
    <div
      class="flex justify-center"
      id="mobile-menu"
    >
      <div
        class="flex w-full items-center justify-between space-y-1 px-dl-2 pt-2"
      >
        <div class="h-dl-5 w-dl-5">
        </div>
        <ng-container *ngIf="authService.$profile | async as profile">
          <div (click)="navigate('/recipes')" class="flex flex-col">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              data-name="Layer 1"
              [ngClass]="{
                'border-dl-blue-6 text-dl-grey-1':
                  (currentUrl$ | async) === '/recipes',
                'border-transparent text-dl-grey-5 ':
                  (currentUrl$ | async) !== '/recipes'
              }"
              class="inline-flex items-center"
              viewBox="-5 0 58 70"
              height="65"
              width="65"
            >
              <path
                [attr.fill]="'hsl(209, 20%, 25%)'"
                d="M46,13H43V6a3,3,0,0,0-4-2.82L13.64,13.07h0l-.1.06a1,1,0,0,0-.21.14l-.08.1a1,1,0,0,0-.13.19,1.36,1.36,0,0,0-.09.36s0,0,0,.07V60a1,1,0,0,0,1,1H46a5,5,0,0,0,5-5V18A5,5,0,0,0,46,13ZM39.66,5.06A1,1,0,0,1,41,6v7H19.31ZM49,56a3,3,0,0,1-3,3H15V15H46a3,3,0,0,1,3,3Z"
              />
              <path
                [attr.fill]="'hsl(209, 20%, 25%)'"
                d="M27.55,31.78V36a1,1,0,0,0,1,1h6.9a1,1,0,0,0,1-1V31.78a3.71,3.71,0,0,0-.26-7.41,3.67,3.67,0,0,0-.51,0,3.71,3.71,0,0,0-7.36,0,3.67,3.67,0,0,0-.51,0,3.71,3.71,0,0,0-.26,7.41Zm.26-5.41a1.68,1.68,0,0,1,1.08.38,1,1,0,0,0,1.55-1.18,1.74,1.74,0,0,1-.15-.7,1.71,1.71,0,0,1,3.42,0,1.74,1.74,0,0,1-.15.7,1,1,0,0,0,1.55,1.18,1.68,1.68,0,0,1,1.08-.38,1.71,1.71,0,1,1,0,3.42,1.58,1.58,0,0,1-.46-.06,1,1,0,0,0-1.28,1v3.25h-4.9V30.68a1,1,0,0,0-1.28-1,1.58,1.58,0,0,1-.46.06,1.71,1.71,0,0,1,0-3.42Z"
              />
              <path
                [attr.fill]="'hsl(209, 20%, 25%)'"
                d="M38,43H26a1,1,0,0,0,0,2H38a1,1,0,0,0,0-2Z"
              />
              <path
                [attr.fill]="'hsl(209, 20%, 25%)'"
                d="M43,47H21a1,1,0,0,0,0,2H43a1,1,0,0,0,0-2Z"
              />
              <path
                [attr.fill]="'hsl(209, 20%, 25%)'"
                d="M43,51H21a1,1,0,0,0,0,2H43a1,1,0,0,0,0-2Z"
              />
            </svg>
            <a
              [ngClass]="{
                'border-dl-blue-6 text-dl-grey-1':
                  (currentUrl$ | async) === '/recipes',
                'border-transparent text-dl-grey-4 ':
                  (currentUrl$ | async) !== '/recipes'
              }"
              class="inline-flex items-center border-b-2 px-1 text-dl-5 font-dl-3"
            >
              Recipes
            </a>
          </div>
        </ng-container>
        <ng-container *ngIf="authService.$profile | async as profile">
          <div (click)="navigate('/kitchen')" class="flex flex-col">
            <svg
              xmlns:dc="http://purl.org/dc/elements/1.1/"
              xmlns:cc="http://creativecommons.org/ns#"
              xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
              xmlns:svg="http://www.w3.org/2000/svg"
              xmlns="http://www.w3.org/2000/svg"
              xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
              xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
              viewBox="-2 1 18 18"
              version="1.1"
              height="65"
              width="65"
              class="inline-flex items-center"
            >
              <g transform="translate(0,6.35)">
                <path
                  [attr.fill]="'hsl(209, 20%, 25%)'"
                  (click)="navigate('/kitchen')"
                  d="m 6.3815603,-5.5562083 c -0.002,0 -0.005,0 -0.007,2e-5 -0.14602,0.002 -0.26265,0.12229 -0.26059,0.26832 v 2.42127 c -0.0117,-0.0204 -0.0236,-0.041 -0.0358,-0.0615 -0.382922,-0.64675 -1.00835,-1.35144 -1.927437,-1.35144 -0.14762,-0.002 -0.268429,0.11695 -0.268429,0.26459 0,0.14763 0.120809,0.26671 0.268429,0.26457 0.643243,0 1.131718,0.51697 1.472096,1.09186 0.177801,0.30029 0.306271,0.60221 0.388551,0.82229 h -1.581632 c -0.949918,-0.007 -1.684381,0.90813997 -1.471109,1.83380997 l 1.960434,8.62757003 c 1.59e-4,6.9e-4 3.38e-4,10e-4 4.89e-4,0.002 a 0.26460745,0.26460745 0 0 0 1.39e-4,6e-4 c 0.162438,0.70562 0.818586,1.16179 1.459399,1.16179 0.58203,0 1.1767,-0.37634 1.4026,-0.97412 0.20446,0.21081 0.4374,0.39329 0.6928,0.54168 a 0.26460745,0.26460745 0 0 0 6.9e-4,3.8e-4 c 1.5352197,0.8859203 3.5056297,0.35774 4.3919197,-1.17724 0.66509,-1.15148 0.53438,-2.54819 -0.22033,-3.54859 l 1.28618,-1.26734 a 0.26460745,0.26460745 0 0 0 -0.1141,-0.44316 l -1.40099,-0.39379 -1.04151,-1.01641 a 0.26460745,0.26460745 0 0 0 -0.19192,-0.0751 0.26460745,0.26460745 0 0 0 -0.24892,0.19789 l -0.45445,1.74739 c -0.0758,-0.009 -0.15204,-0.0163 -0.2286,-0.0204 a 0.26460745,0.26460745 0 0 0 -4.9e-4,0 c -0.0772,-0.004 -0.15443,-0.005 -0.23142,-0.003 v 0 c -0.3516797,0.007 -0.6990597,0.0724 -1.0283997,0.19177 l 0.80673,-3.55159003 c 0.2109797,-0.91585 -0.50545,-1.82281997 -1.44321,-1.83295997 a 0.26460745,0.26460745 0 0 0 -0.0101,-6.9e-4 0.26460745,0.26460745 0 0 0 -0.003,0 h -1.6e-4 -3.6e-4 -6.9e-4 -1.59506 c 0.0823,-0.22008 0.21076,-0.522 0.38857,-0.8223 0.34037,-0.57488 0.82884,-1.09185 1.47209,-1.09185 0.14762,0.002 0.26843,-0.11695 0.26843,-0.26458 0,-0.14764 -0.12081,-0.26672 -0.26843,-0.26458 -0.9191,0 -1.5445,0.70468 -1.92742,1.35143 -0.0121,0.0205 -0.024,0.0409 -0.0358,0.0615 v -2.42127 c 0.002,-0.14683 -0.11565,-0.26677 -0.2616,-0.26834 z m -1.969998,4.24914 c 0.0048,0 0.0093,0 0.01408,0 v 0 a 0.26460745,0.26460745 0 0 0 0.002,0 h 3.912968 a 0.26460745,0.26460745 0 0 0 5.4e-4,0 c 0.59913,6.9e-4 1.07652,0.60192997 0.94201,1.18585997 a 0.26460745,0.26460745 0 0 0 -1.9e-4,6.9e-4 l -0.37106,1.63376003 h -2.85163 a 0.26460745,0.26460745 0 1 0 0,0.52916 h 2.73143 l -0.87872,3.86849 h -1.85271 a 0.26460745,0.26460745 0 1 0 0,0.52917 h 1.73255 l -0.3611,1.58973 -0.0351,0.15479 a 0.26460745,0.26460745 0 0 0 -7e-5,4.1e-4 l -0.0733,0.32285 a 0.26460745,0.26460745 0 0 0 -1.3e-4,4.4e-4 c 0,2.6e-4 -1.3e-4,5.3e-4 -1.9e-4,6.9e-4 -0.0996,0.4328 -0.57312,0.75132 -0.94371,0.75132 -0.37042,0 -0.843649,-0.31823 -0.943576,-0.75073 v -2.4e-4 c -1.31e-4,-3.8e-4 -1.66e-4,-6.9e-4 -2.62e-4,-10e-4 a 0.26460745,0.26460745 0 0 0 -1.39e-4,-4.7e-4 l -0.96947,-4.26656 h 2.396517 a 0.26460745,0.26460745 0 1 0 0,-0.52916 h -2.422051 a 0.26460745,0.26460745 0 0 0 -0.09125,0.0152 l -0.874325,-3.84780003 a 0.26460745,0.26460745 0 0 0 -1.86e-4,-6.9e-4 c -0.134256,-0.58268 0.341134,-1.18118997 0.937182,-1.18587997 z m 6.9214377,3.51518 0.76363,0.74522 a 0.26460745,0.26460745 0 0 0 0.11319,0.0653 l 1.02719,0.28872 -0.94328,0.92948 c -0.17897,-0.16947 -0.3803,-0.32084 -0.60285,-0.44936 -0.21874,-0.12634 -0.45082,-0.22599 -0.69126,-0.29753 z m -1.25311,1.67776 c 0.0483,-1.5e-4 0.0966,6.9e-4 0.14495,0.003 0.42296,0.0224 0.83461,0.14453 1.20139,0.35637 1.28757,0.74363 1.72642,2.38248 0.98274,3.67001 -0.7433,1.28737 -2.38162,1.72654 -3.6691797,0.98358 -0.31269,-0.18179 -0.5845,-0.42512 -0.80063,-0.71417 l 0.90764,-3.99345 c 0.36689,-0.19128 0.77198,-0.29661 1.1849297,-0.30526 h -6e-5 c 0.0161,-3.3e-4 0.0321,-5.3e-4 0.0482,-5.7e-4 z"
                />
              </g>
            </svg>
            <a
              [ngClass]="{
                'border-dl-blue-6 text-dl-grey-1':
                  (currentUrl$ | async) === '/kitchen',
                'border-transparent text-dl-grey-4 ':
                  (currentUrl$ | async) !== '/kitchen'
              }"
              class="inline-flex items-center border-b-2 px-1 text-dl-5 font-dl-3"
            >
              Kitchen
            </a>
          </div>
        </ng-container>
        <ng-container *ngIf="authService.$profile | async as profile">
          <div (click)="navigate('/social')" class="flex flex-col">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              data-name="Layer 1"
              viewBox="10 14 80 75"
              class="inline-flex items-center"
              height="65"
              width="65"
            >
              <path
                [attr.fill]="'hsl(209, 20%, 25%)'"
                d="M30,79a11,11,0,0,0,7.87-3.32,23.85,23.85,0,0,0,24.27,0,11,11,0,1,0,11.71-18A23.91,23.91,0,0,0,61,33.67a11,11,0,0,0-22,0,23.91,23.91,0,0,0-12.86,24A11,11,0,0,0,30,79Zm40-6a5,5,0,1,1,5-5A5,5,0,0,1,70,73ZM50,29a5,5,0,1,1-5,5A5,5,0,0,1,50,29ZM40.59,39.68a11,11,0,0,0,18.81,0A18,18,0,0,1,68,55a17.69,17.69,0,0,1-.15,2.21A11,11,0,0,0,59.27,70.4a17.8,17.8,0,0,1-18.54,0,11,11,0,0,0-8.58-13.18A17.69,17.69,0,0,1,32,55,18,18,0,0,1,40.59,39.68ZM30,63a5,5,0,1,1-5,5A5,5,0,0,1,30,63Z"
              />
            </svg>
            <a
              [ngClass]="{
                'border-dl-blue-6 text-dl-grey-1':
                  (currentUrl$ | async) === '/social',
                'border-transparent text-dl-grey-4 ':
                  (currentUrl$ | async) !== '/social'
              }"
              class="inline-flex items-center border-b-2 px-1 text-dl-5 font-dl-3"
            >
              Social
            </a>
          </div>
        </ng-container>
        <!-- Profile dropdown -->
          <div
            *ngIf="authService.$profile | async as profile"
            class="relative ml-3"
          >
            <div>
              <button
                type="button"
                (click)="toggleMenu($event)"
                class="flex pb-dl-5 rounded-full text-sm"
                id="user-menu-button"
                aria-expanded="false"
                aria-haspopup="true"
              >
                <span class="sr-only">Open User Menu</span>
                <img
                  *ngIf="profileImageLink"
                  class="h-dl-5 w-dl-5 rounded-full focus:outline-none focus:ring-2 focus:ring-dl-blue-6 focus:ring-offset-2"
                  [src]="profileImageLink"
                  alt="profile image"
                />
                <span
                  class="inline-flex h-dl-4 w-dl-4 items-center justify-center rounded-full bg-dl-grey-9"
                  *ngIf="!profileImageLink && initials"
                >
                  <span
                    class="text-dl-5 font-dl-3 leading-none text-dl-grey-7"
                    >{{ initials }}</span
                  >
                </span>
                <span
                  *ngIf="!profileImageLink && !initials"
                  class="inline-block h-dl-4 w-dl-4 overflow-hidden rounded-full bg-dl-grey-9"
                >
                  <svg
                    class="h-full w-full text-dl-grey-7"
                    fill="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      d="M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z"
                    />
                  </svg>
                </span>
              </button>
            </div>
            <div
              #menu
              *ngIf="isMenuOpen"
              [ngClass]="{
                'scale-100 opacity-100 duration-200': isMenuOpen,
                'scale-95 opacity-0 duration-75': !isMenuOpen
              }"
              class="absolute bottom-28 right-5 z-20 flex w-dl-7 flex-col items-center rounded-md bg-dl-grey-10 py-1 shadow-lg ring-1 ring-dl-grey-1 ring-opacity-5 ease-out focus:outline-none"
              role="menu"
              aria-orientation="vertical"
              aria-labelledby="user-menu-button"
              tabindex="-1"
            >
              <a
                (click)="profileNavigate('/profile')"
                class="cursor-pointer px-4 py-2 text-dl-5 font-dl-3 text-dl-grey-3"
                role="menuitem"
                tabindex="-1"
                id="user-menu-item-0"
              >
                Profile
              </a>
              <a
                (click)="profileNavigate('/settings')"
                class="cursor-pointer px-4 py-2 text-dl-5 font-dl-3 text-dl-grey-3"
                role="menuitem"
                tabindex="-1"
                id="user-menu-item-1"
              >
                Settings
              </a>
              <a
                (click)="logout()"
                class="cursor-pointer px-4 py-2 text-dl-5 font-dl-3 text-dl-grey-3"
                role="menuitem"
                tabindex="-1"
                id="user-menu-item-2"
              >
                Sign out
              </a>
            </div>
          </div>
      </div>
    </div>
  </nav>
</div>
